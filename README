# fda-apis

This project centers around processing the database of approved pharmaceutical products provided by the FDA at the URL below:

https://www.fda.gov/drugs/drug-approvals-and-databases/drugsfda-data-files


This directory contains the following files and subdirectories:

	fda-files			contains the unzipped contents of the files at the above URL
	output				convenient location to place output files generated by the scripts in the project
	old				old versions of the code. Not documented thoroughly.
	
	README				this file. Contains documentation for the project

	drugs.py			main code for the project. This script takes two filenames as arguments:
	
					input, which should be Products.txt from fda-files
					output, which is a file that will receive the formatted output of the script
				
					The script de-duplicates the Products.txt file by API NAME,
					then queries the FDA database for each entry in that (deduplicated) list of names
					in order to retreive the SMILES string for said name. Doing this often returns
					a list of SMILES strings, rather than a single SMILES string; this list contains
					various tautomers and other "isoforms" of an API (maybe; I have only observed tautomers).
					
					The returned list of SMILES strings is then de-duplicated, since, for some reason,
					the list is often redundant.
					
					Finally, each line from the de-duplicated SMILES string list, followed by a comma, followed
					by the API name corresponding to said SMILES string is printed to a new line in the output
					file. Thus, a CSV containing SMILES strings corresponding to APIs is generated.
					
					URL exceptions (errors in querying the database) are noted on STDOUT but otherwise ignored.
					This could be better handled in subsequent versions (outputing each API NAME that generated
					an exception to a separate "error log" file line-by-line for later manual parsing, for
					example. Also, the exact nature of the error could be noted and/or recorded.
